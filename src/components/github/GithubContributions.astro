---
import { onMount } from 'solid-js';

const username = 'ZIker22';
const apiUrl = `https://api.github.com/users/${username}/events/public`;

let contributions = [];

onMount(async () => {
  try {
    const response = await fetch(apiUrl);
    const data = await response.json();
    contributions = data.filter(event => ['PushEvent', 'PullRequestEvent', 'IssuesEvent'].includes(event.type));
  } catch (error) {
    console.error('Error fetching GitHub contributions:', error);
  }
});
---

<div>
  <h2>GitHub Contributions</h2>
  <ul>
    {contributions.map(contribution => (
      <li>{contribution.type} at {new Date(contribution.created_at).toLocaleString()}</li>
    ))}
  </ul>
</div>
